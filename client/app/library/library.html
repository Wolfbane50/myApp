<subapp-navbar name="Technial Books" state="library">
  <subapp-nav class="nav navbar-nav" on-action="$ctrl.newDoc()">New Document</subapp-nav>
  // Selection callback will pass through tagCloud to taggedDocs to documentList
  <subapp-nav class="nav navbar-nav" ui-sref="library.tagCloud({onSelect: $ctrl.docSelect(document)})">Tag Cloud</subapp-nav>
  <subapp-nav class="nav navbar-nav" ui-sref="library.catdisp">Edit Categories</subapp-nav>
  <subapp-nav class="nav navbar-nav" ui-sref="library.pubdisp">Edit Publishers</subapp-nav>
  <subapp-nav class="nav navbar-nav" on-action="$ctrl.setServerDir()">Set Server Dir</subapp-nav>
  <subapp-nav ng-show="$ctrl.selDoc" class="nav navbar-nav" on-action="$ctrl.prevItem()">&lt;&lt; Previous</subapp-nav>
  <subapp-nav ng-show="$ctrl.selDoc" class="nav navbar-nav" on-action="$ctrl.nextItem()">Next &gt;&gt;</subapp-nav>
</subapp-navbar>

<div class="view_container">
  <sidebar>
    <uib-accordion>
      <div uib-accordion-group ng-repeat="cat in $ctrl.categories track by cat.id" class="panel-default" heading="{{cat.name}}">
        <a class="pull-right btn btn-primary btn-xs" ng-click="$ctrl.newDoc(cat.id)" style="margin-right: 8px;">
          <span class="glyphicon glyphicon-plus"></span></a>
        <document-list docs="$ctrl.docsByCat[cat.id]" on-select="$ctrl.docSelect(document)">
        </document-list>
      </div>
    </uib-accordion>
  </sidebar>

  <div class="detail" ui-view>
  </div>

  <div class="main_container">
    <libdoc doc="$ctrl.tmpDoc" on-category-change="$ctrl.changeCategory" on-save="$ctrl.onSave" on-delete="$ctrl.onDelete">
    </libdoc>
  </div>
</div>
