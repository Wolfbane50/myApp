<div ng-hide="$ctrl.myDoc" >
  <h2>No document selected</h2>
</div>
<div ng-show="$ctrl.myDoc" >
  <h1>{{$ctrl.myDoc.title}}</h1>
  <div class="row">
    <div class="col-md-10">
      <span class="lead">Title:  <input class="fill" type="text" placeholder="Title" ng-model="$ctrl.myDoc.title"></span>
      <p>ID:  {{$ctrl.myDoc.id}}</p>
    </div>
    <div class="col-md-2">
      <img ng-show="$ctrl.myDoc.image_url" ng-src="{{$ctrl.myDoc.image_url}}" style="float: right;" /></a>
    </div>
  </div>
  <div class="row">
    <div class="col-md-8">
      <label for="author_inp">By: </label>
      <input id="author_inp" class="fill" type="text" placeholder="Author(s)" ng-model="$ctrl.myDoc.author" >
    </div>
    <div class="col-md-4">
      <label for="CatPick">Category: </label>
      <select id="CatPick" ng-model="$ctrl.myDoc.category_id" ng-options="cat.name for cat in $ctrl.categories track by cat.id" ng-change='$ctrl.onCategoryChange()'>
      </select>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4">
      <div class="form-group">
        <br /><br /><label for="inputdefault">Type:</label>

        <select id="sel1" ng-model="$ctrl.myDoc.type_id"
            ng-options="typid as typname for (typname, typid) in $ctrl.docTypes" >
        </select>
      </div>
    </div>
    <div class="col-md-4">
      <div class="form-group">
        <br /><label for="inputdefault">Publisher:</label>
        <span class="combobox_toggle" uib-dropdown on-toggle="$ctrl.toggled(open)">
    <input type="text" placeholder="Publisher" ng-model="$ctrl.myDoc.publisher">
<a href id="simple-dropdown" uib-dropdown-toggle>
<span class="glyphicon glyphicon-chevron-down" style="border: 1px solid BLACK;"></span>
        </a>
        <ul class="dropdown-menu" uib-dropdown-menu aria-labelledby="simple-dropdown">
          <li ng-repeat="choice in $ctrl.publishers">
            <a ng-click="$ctrl.myDoc.publisher = choice">{{choice}}</a>
          </li>
        </ul>
        </span>
      </div>
    </div>
    <div class="col-md-2">
      <br /><label for="cc_inp"><span uib-tooltip="Copyright" class="glyphicon glyphicon-copyright-mark"></span></label>
      <input id="cc_inp" uib-tooltip="Copyright" type="text" placeholder="copyright" ng-model="$ctrl.myDoc.copywrite">
    </div>
    <div class="col-md-2">
      <div class="form-group">
        <a class="pull-right btn btn-primary" uib-tooltip="Populate from Google" ng-click="$ctrl.queryGoogle()">
          <span  class="glyphicon glyphicon-question-sign"></span>&nbsp;</a>
        <a class="pull-right btn btn-primary" uib-tooltip="Revert to last saved" ng-click="$ctrl.revert()">
          <span class="glyphicon glyphicon-repeat"></span>&nbsp;</a>
        <a class="pull-right btn btn-primary" uib-tooltip="Save to DB" ng-click="$ctrl.saveDoc()">
          <span class="glyphicon glyphicon-floppy-disk"></span>&nbsp;</a>
        <a class="pull-right btn btn-primary" uib-tooltip="Delete from DB" ng-click="$ctrl.deleteDoc()">
          <span  class="glyphicon glyphicon-trash"></span>&nbsp;</a>

      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <br />
      <label for="tags_inp">Tags: </label>
      <input id="tags_inp" class="fill" type="text" placeholder="tags" ng-model="$ctrl.myDoc.tag_list">

    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <br />
      <label for="url_inp">URL: </label>
      <input id="url_inp" class="fill" type="text" placeholder="URL" ng-model="$ctrl.myDoc.url">
      <a ng-href="{{ $ctrl.serverPath + $ctrl.myDoc.url }}" target="_blank">Link: </a>&quot;{{ $ctrl.serverPath + $ctrl.myDoc.url }}&quot;
      <br />
      <a ng-show="($ctrl.selectedType == 'epub')" class="pull-right btn btn-primary" uib-tooltip="Launch epub reader" ng-click="$ctrl.readEpub( $ctrl.serverPath + $ctrl.myDoc.url)">
        <span></span>Read Epub;</a>

    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <br />
      <label for="img_inp">Image URL: </label>
      <input id="img_inp" class="fill" type="text" placeholder="Image URL" ng-model="$ctrl.myDoc.image_url">

    </div>
  </div>
  <div class="row">
    <div class="col-md-12">
      <br />
      <label for="descriptionText">Description: </label>
      <textarea id="descriptionText" class="form-control" rows="10" ng-model="$ctrl.myDoc.description"></textarea>


    </div>
  </div>
  <br />
  <pre class="code">{{ $ctrl.myDoc | json }}</pre>

</div>
